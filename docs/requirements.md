# Требования проекта BookPilot

## Обзор проекта
- **Название:** BookPilot (рабочее название)
- **Видение:** Трансформация чтения книг в структурированное, практическое обучение с помощью ИИ
- **Проблема:** Людям не хватает времени или структуры, чтобы закончить книги или применить прочитанное
- **Решение:** BookPilot помогает пользователям превращать книги в учебные путешествия — персонализированные, интерактивные и управляемые ИИ

## Функциональный обзор (MVP)
Пользователь может:
1. Зарегистрироваться и войти в систему
2. Загрузить книгу (PDF, ePub или TXT)
3. Получить сгенерированное ИИ учебное руководство:
   - Резюме по главам
   - Рефлексивные вопросы
   - Практические задания
   - Итоговый синтез + план действий
   - Мини-викторина (5 вопросов)
4. Отслеживать прогресс чтения/обучения
5. Опционально: общаться с ИИ о содержании книги

## Технологический стек
- **Frontend:** Next.js + Tailwind CSS
- **Backend:** FastAPI (Python)
- **Auth:** Clerk.dev или Supabase Auth
- **DB:** PostgreSQL (через Supabase или напрямую)
- **Storage:** Supabase Storage или AWS S3
- **LLM:** OpenAI GPT-4 (или Claude API при необходимости)
- **Hosting:** Vercel (frontend) + Railway (backend)
- **CI/CD:** GitHub Actions
- **Docs:** Swagger для API, README.md для настройки

## Пользовательский поток
1. Пользователь регистрируется
2. Загружает книгу (PDF/ePub/TXT)
3. Бэкенд разбивает и отправляет текст в LLM
4. LLM возвращает структурированное руководство (хранится для каждой книги)
5. Пользователь видит руководство, отслеживает прогресс, отвечает на вопросы
6. Данные хранятся для каждого пользователя для сохранения

## Шаблон промпта LLM
"Вы — ИИ-коуч по обучению. Помогите пользователю изучить эту книгу, создав:
- Четкое оглавление
- Резюме по главам (1-2 абзаца для каждой)
- 1-2 рефлексивных вопроса на главу
- 1 практическое задание на главу
- Итоговый синтез: 5 ключевых выводов + план реализации
- Короткая викторина (5 вопросов с множественным выбором)
Используйте теплый, мотивирующий тон. Сохраняйте структуру четкой и пронумерованной. Руководство должно ощущаться как персональный тренер для обучения."

Если книга длинная, разбивайте ее на части перед суммированием.

## Схема базы данных
- **User**: id, email, provider, created_at
- **Book**: id, user_id, title, file_url, status, created_at
- **Guide**: id, book_id, user_id, json_content (summaries, actions, quiz), progress
- **Highlight (опционально)**: id, content, book_id, user_id, source
- **Chat (опционально)**: id, book_id, user_id, messages (LLM memory)

## Цели дизайна UI/UX
- Чистый, минималистичный интерфейс (как ChatGPT или Manus)
- Белый фон, мягкие тени, шрифты с высоким контрастом (Inter или Poppins)
- Плавные взаимодействия: эффекты при наведении, анимация набора текста ИИ
- Модульный макет (компоненты Tailwind CSS или ShadCN)
- Страницы:
  - Лендинг
  - Страница загрузки книги
  - Просмотр руководства + прогресс
  - ИИ-ассистент для чата
  - Профиль пользователя / история
- Визуальные элементы: индикаторы прогресса, чекбоксы глав, отслеживание действий

## Опциональный модуль: Интеграция с Readwise
- Функция: Импорт выделений из Readwise через токен
- Экспорт обработанных идей или резюме обратно
- Использование эндпоинтов `/highlights`, `/books` из API Readwise
- Аутентификация через персональный токен
- Добавление компонента UI "Подключиться к Readwise" (OAuth опционально)

## НЕ РЕАЛИЗОВЫВАТЬ
- Логику оплаты или подписки (пока)
- Панель администратора
- Командные функции
- Аналитику — если не будет запрошено позже

## Результаты
- Структурированный полноценный репозиторий (бэкенд и фронтенд)
- Рабочее демо, развернутое на Vercel + Railway
- README.md с четкими инструкциями по настройке
- Интеграция с OpenAI API (с логикой разбиения на части)
- Полностью функциональный генератор руководств
- Опционально: тестирование импорта/экспорта Readwise

## Фазы
- Фаза 1: Проектирование архитектуры системы и схемы базы данных
- Фаза 2: Создание бэкенда с логикой генерации руководств
- Фаза 3: Создание пользовательского интерфейса с компонентами Tailwind
- Фаза 4: Развертывание и подготовка демо-репозитория
- Опциональная фаза 5: Модуль интеграции с API Readwise

## Улучшения для новой версии
- Более отзывчивый и адаптивный дизайн для мобильных устройств
- Улучшенная обработка больших книг с оптимизацией производительности
- Расширенные возможности чата с ИИ, включая контекстные ответы
- Улучшенная визуализация прогресса обучения
- Возможность экспорта учебных руководств в PDF
- Интеграция с популярными сервисами для чтения книг
- Оптимизация для SEO и улучшенная доступность

## Миссия
Создать минимальную, но очень полезную платформу, где чтение становится активным, рефлексивным и практическим — не пассивным. Проводить пользователей через книги, как тренер тренирует спортсмена.
