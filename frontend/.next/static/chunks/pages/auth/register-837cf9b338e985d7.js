(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{3829:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return s(1583)}])},7073:function(e,t,s){"use strict";var r=s(5893);s(7294),t.Z=e=>{let{children:t,variant:s="primary",size:a="md",className:n="",disabled:l=!1,type:i="button",onClick:c,...o}=e,d="".concat("btn inline-flex items-center justify-center rounded-md font-medium transition-all focus:outline-none"," ").concat({primary:"btn-primary",secondary:"btn-secondary",outline:"btn-outline"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-5 py-2.5 text-lg"}[a]," ").concat(l?"opacity-50 cursor-not-allowed":""," ").concat(n);return(0,r.jsx)("button",{type:i,className:d,disabled:l,onClick:c,...o,children:t})}},7607:function(e,t,s){"use strict";var r=s(5893);s(7294),t.Z=e=>{let{children:t,className:s="",...a}=e;return(0,r.jsx)("div",{className:"card ".concat(s),...a,children:t})}},5759:function(e,t,s){"use strict";var r=s(5893);s(7294),t.Z=e=>{let{label:t,type:s="text",id:a,name:n,value:l,onChange:i,placeholder:c,error:o,required:d=!1,className:x="",...m}=e;return(0,r.jsxs)("div",{className:"mb-4 ".concat(x),children:[t&&(0,r.jsxs)("label",{htmlFor:a,className:"label",children:[t," ",d&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:s,id:a,name:n,value:l,onChange:i,placeholder:c,required:d,className:"input ".concat(o?"border-red-500 focus:border-red-500 focus:ring-red-500":""),...m}),o&&(0,r.jsx)("p",{className:"error",children:o})]})}},5574:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var r=s(5893);s(7294);var a=s(1664),n=s.n(a),l=s(1163),i=s(6266),c=()=>{let{user:e,logout:t,isAuthenticated:s}=(0,i.aC)(),a=(0,l.useRouter)();return(0,r.jsx)("nav",{className:"bg-white shadow-sm",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n(),{href:"/",className:"flex-shrink-0 flex items-center",children:(0,r.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"BookPilot"})}),s&&(0,r.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:(0,r.jsx)(n(),{href:"/books",className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ".concat(a.pathname.startsWith("/books")?"border-primary-500 text-primary-600":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300"),children:"My Books"})})]}),(0,r.jsx)("div",{className:"flex items-center",children:s?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("span",{className:"text-sm text-secondary-700",children:null==e?void 0:e.email}),(0,r.jsx)("button",{onClick:t,className:"text-sm text-secondary-500 hover:text-secondary-700",children:"Logout"})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(n(),{href:"/auth/login",className:"text-sm text-secondary-500 hover:text-secondary-700",children:"Login"}),(0,r.jsx)(n(),{href:"/auth/register",className:"text-sm bg-primary-600 text-white px-3 py-2 rounded-md hover:bg-primary-700",children:"Register"})]})})]})})})},o=e=>{let{children:t}=e;return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(c,{}),(0,r.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8 sm:px-6 lg:px-8",children:t}),(0,r.jsx)("footer",{className:"bg-white border-t border-secondary-200 py-6",children:(0,r.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("p",{className:"text-center text-sm text-secondary-500",children:["\xa9 ",new Date().getFullYear()," BookPilot. All rights reserved."]})})})]})}},6266:function(e,t,s){"use strict";s.d(t,{aC:function(){return n}}),s(5893);var r=s(7294);s(1163);let a=(0,r.createContext)({isAuthenticated:!1,user:null,login:()=>{},logout:()=>{},loading:!0}),n=()=>{let e=(0,r.useContext)(a);return void 0===e?{isAuthenticated:!1,user:null,login:()=>{},logout:()=>{},loading:!0}:e}},1583:function(e,t,s){"use strict";s.r(t);var r=s(5893),a=s(7294),n=s(1163),l=s(5574),i=s(7607),c=s(5759),o=s(7073),d=s(6266);t.default=()=>{let[e,t]=(0,a.useState)(""),[s,x]=(0,a.useState)(!1),[m,u]=(0,a.useState)(""),{register:h,login:p}=(0,d.aC)(),f=(0,n.useRouter)(),y=async t=>{t.preventDefault(),u(""),x(!0);try{let t=await h(e);if(t){let t=await p(e);t?f.push("/books"):u("Registration successful, but failed to login. Please go to login page.")}else u("Failed to register. Please try again or use a different email.")}catch(e){u("An unexpected error occurred. Please try again."),console.error(e)}finally{x(!1)}};return(0,r.jsx)(l.Z,{children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center mb-6",children:"Create an Account"}),(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)("form",{onSubmit:y,children:[m&&(0,r.jsx)("div",{className:"bg-red-50 text-red-600 p-3 rounded-md mb-4",children:m}),(0,r.jsx)(c.Z,{label:"Email Address",type:"email",id:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",required:!0}),(0,r.jsx)(o.Z,{type:"submit",variant:"primary",className:"w-full",disabled:s,children:s?"Creating account...":"Register"})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-secondary-600",children:["Already have an account?"," ",(0,r.jsx)("a",{href:"/auth/login",className:"text-primary-600 hover:text-primary-700",children:"Login"})]})})]})]})})}}},function(e){e.O(0,[774,424,888,179],function(){return e(e.s=3829)}),_N_E=e.O()}]);